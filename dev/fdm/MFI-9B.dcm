*
* MFI-9B flight model for JSBSim.
*
*   Copyright (C) 2012 - 2013  Anders Gidenstam  (anders(at)gidenstam.org)
*
*   This program is free software; you can redistribute it and/or modify
*   it under the terms of the GNU General Public License as published by
*   the Free Software Foundation; either version 2 of the License, or
*   (at your option) any later version.
* 
*   This program is distributed in the hope that it will be useful,
*   but WITHOUT ANY WARRANTY; without even the implied warranty of
*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*   GNU General Public License for more details.
*  
*   You should have received a copy of the GNU General Public License
*   along with this program; if not, write to the Free Software
*   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
*
*   File : MFI-9B.dcm
*
*   Purpose : This is an input file for the Digital Datcom program.
*
*   Author : Anders Gidenstam
*
*   Based on a file by:
*            Bill Galbraith
*            Holy Cows, Inc.
*            billg (at) holycows.net
*
*   Model-Specific notes:
*      o The origin is at the nose of the aircraft.
*

**************************
*   List of Command Card *
**************************
DIM M
PART
DERIV RAD
*DUMP ALL
DAMP


**********************  
*  Flight Conditions *
**********************

 $FLTCON NMACH=1.0, MACH(1)=0.20,
         NALT=1.0,
         ALT(1)=100.0,
         NALPHA=20.0, 
*         ALSCHD(1)= -16.0, -8.0, -6.0, -4.0, -2.0, 0.0, 2.0, 4.0, 8.0, 9.0,
         ALSCHD(1)=-16.0,-10.0, -8.0, -6.0, -4.0, -2.0,  0.0,  2.0,  4.0,  8.0, 
                    10.0, 12.0, 14.0, 15.0, 16.0, 17.0, 18.0, 20.0, 22.0, 24.0,
*         WT=575.0,
         TR=0.0,
         LOOP=1.0$


*************************  
*  Reference Parameters *
*************************

 $OPTINS SREF=8.70, CBARR=1.22, BLREF=7.43,
         ROUGFC=0.7E-3$


**************************************
* Group II     Synthesis Parameters  *
**************************************

 $SYNTHS XCG=1.90,
         ZCG=0.50, 
         XW=1.60,
         ZW=0.44,
         ALIW=2.00,
         XH=5.14,
         ZH=0.00,
         ALIH=0.0,
         XV=4.56,
         ZV=0.00,
         SCALE=1.0,
         VERTUP=.TRUE.$


**********************************  
*  Body Configuration Parameters *
**********************************

 $BODY ITYPE=1.0, METHOD=2.0,
       NX=18.0,
       X(1)=   0.00, 0.20, 0.30, 0.40, 0.60, 0.80, 1.00, 1.20, 1.40,
               1.60, 1.80, 2.00, 2.50, 3.00, 3.50, 4.00, 5.00, 5.70,
       R(1)=   0.00, 0.08, 0.35, 0.40, 0.42, 0.43, 0.45, 0.46, 0.47,
               0.47, 0.47, 0.47, 0.46, 0.42, 0.38, 0.32, 0.17, 0.02,
       ZU(1)=  0.00, 0.08, 0.20, 0.21, 0.25, 0.28, 0.30, 0.38, 0.55,
               0.64, 0.70, 0.70, 0.60, 0.45, 0.39, 0.33, 0.17, 0.05,
       ZL(1)=  0.00, -.08, -.25, -.32, -.37, -.40, -.40, -.40, -.40,
               -.40, -.40, -.40, -.38, -.35, -.32, -.28, -.18, -.01,
* Smax = 2.*R.*(ZU-ZL)
* S = 0.80 * Smax for X < 1.20
* S = 0.90 * Smax for 1.20 <= X < 1.80 
* S = 0.95 * Smax for X >= 1.80
       S(1)=   0.000, 0.020, 0.252, 0.339, 0.417, 0.468, 0.504, 0.646, 0.804,
               0.880, 0.982, 0.982, 0.857, 0.638, 0.513, 0.371, 0.113, 0.0023,
* P = 2.*R + 2*(ZU-ZL)
       P(1)=   0.000, 0.480, 1.600, 1.860, 2.080, 2.220, 2.300, 2.480, 2.8400,
               3.020, 3.140, 3.140, 2.880, 2.440, 2.180, 1.860, 1.040, 0.1600$


***********************************
*         Wing planform variables *
***********************************

 $WGPLNF TYPE=1.0,
         CHRDR=1.22,
         CHRDTP=1.22,
         SSPN=3.715,
         SSPNE=3.245,
         SAVSI=-3.0,
         CHSTAT=0.0,
         TWISTA=0.0,
         DHDADI=1.0$


**********************************************
*  Wing Sectional Characteristics Parameters *
**********************************************

* Airfoil NACA 23008 from JavaFoil. FIXME: should be modified NACA 23008.5.
 $WGSCHR TYPEIN=1.0,
         NPTS=39.0,
         XCORD  = 0.00000,  0.00046,  0.00446,  0.01208,  0.02333,  0.03817,
                  0.05651,  0.07819,  0.10300,  0.13066,  0.16084,  0.19320,
                  0.22738,  0.26303,  0.30016,  0.33865,  0.37824,  0.41867,
                  0.45964,  0.50089,  0.54213,  0.58309,  0.62348,  0.66302,
                  0.70146,  0.73853,  0.77396,  0.80753,  0.83901,  0.86817,
                  0.89482,  0.91879,  0.93989,  0.95800,  0.97299,  0.98476,
                  0.99322,  0.99832,  1.00000,
         YUPPER = 0.000000, 0.005118, 0.010962, 0.017404, 0.024227, 0.031143,
                  0.037821, 0.043924, 0.049148, 0.053261, 0.056139, 0.057789,
                  0.058359, 0.058141, 0.057402, 0.056196, 0.054555, 0.052521,
                  0.050139, 0.047458, 0.044527, 0.041397, 0.038120, 0.034742,
                  0.031310, 0.027871, 0.024465, 0.021136, 0.017923, 0.014866,
                  0.012002, 0.009369, 0.007002, 0.004934, 0.003197, 0.001816,
                  0.000812, 0.000204, 0.000000,
         YLOWER = 0.000000,-0.004191,-0.007344,-0.009587,-0.011098,-0.012090,
                 -0.012786,-0.013400,-0.014115,-0.015063,-0.016305,-0.017813,
                 -0.019451,-0.020961,-0.022093,-0.022826,-0.023181,-0.023185,
                 -0.022869,-0.022267,-0.021417,-0.020353,-0.019113,-0.017731,
                 -0.016239,-0.014670,-0.013053,-0.011418,-0.009794,-0.008209,
                 -0.006691,-0.005267,-0.003966,-0.002813,-0.001832,-0.001045,
                 -0.000469,-0.000118, 0.000000$

SAVE

********************************************
*    Symetrical Flap Deflection parameters *
********************************************

 $SYMFLP FTYPE=1.0,
         NDELTA=5.0,
* Maximum extension is 35 deg.
         DELTA(1)=0.0, 5.0, 15.0, 25.0, 35.0,
* PHETE and PHETEP are computed from the airfoil.
         PHETE=0.00088572,
         PHETEP=0.00091203,
         CHRDFI=0.28,
         CHRDFO=0.28,
         SPANFI=1.48,
         SPANFO=2.60,
         CB=0.0,
         TC=1.0,
         NTYPE=1.0$

* At this point, we are going to terminate the case so that we can get 
* the flap effects. We can't save this data, as we are
* also going to do control surfaces on the horizontal tail.

CASEID FLAPS: MFI-9B Aircraft
NEXT CASE


*************************************************************
*    Asymmetrical Control Deflection parameters : Ailerons  *
*************************************************************

 $ASYFLP STYPE=4.0,
         NDELTA=9.0,
* Deflection: Up 25 deg, down 12 deg.
         DELTAL(1)=-25.0,-15.0,-5.0,-2.5,0.0,2.0,4.0,8.0,12.0,
         DELTAR(1)=12.0,8.0,4.0,2.0,0.0,-2.5,-5.0,-15.0,-25.0,
         SPANFI=2.60,
         SPANFO=3.42,
         CHRDFI=0.24,
         CHRDFO=0.24,
* PHETE is computed from the airfoil.
         PHETE=0.0015884$

*   Terminates the reading of input cards and begins execution of
*   the case. Case data are destroyed following execution of a case,
*   unless the SAVE card is present.
CASEID AILERONS: MFI-9B Aircraft
SAVE
NEXT CASE

***************************************************
*       Horizontal Tail Sectional Characteristics *
***************************************************

* FIXME: Airfoil
 $HTSCHR TYPEIN=1.0,
         NPTS=39.0, 
         XCORD  = 0.00000, 0.00500, 0.01000, 0.01500, 0.02000, 0.02500,
                  0.03000, 0.03500, 0.04000, 0.04500, 0.05000, 0.05500,
                  0.06000, 0.06500, 0.07000, 0.07500, 0.08000, 0.08500,
                  0.09000, 0.09500, 0.10000, 0.15000, 0.20000, 0.25000,
                  0.30000, 0.35000, 0.40000, 0.45000, 0.50000, 0.55000,
                  0.60000, 0.65000, 0.70000, 0.75000, 0.80000, 0.85000,
                  0.90000, 0.95000, 1.00000,
         YUPPER = 0.000000, 0.010113, 0.017073, 0.021679, 0.024732, 0.027032,
                  0.029239, 0.031453, 0.033631, 0.035732, 0.037714, 0.039546,
                  0.041231, 0.042782, 0.044213, 0.045537, 0.046767, 0.047916,
                  0.048998, 0.050026, 0.051012, 0.059296, 0.064746, 0.067726,
                  0.068888, 0.068812, 0.067580, 0.065179, 0.061694, 0.057260,
                  0.052102, 0.046432, 0.040330, 0.033872, 0.027250, 0.020655,
                  0.014170, 0.007630, 0.000000,
         YLOWER = 0.000000,-0.010113,-0.017073,-0.021679,-0.024732,-0.027032,
                 -0.029239,-0.031453,-0.033631,-0.035732,-0.037714,-0.039546,
                 -0.041231,-0.042782,-0.044213,-0.045537,-0.046767,-0.047916,
                 -0.048998,-0.050026,-0.051012,-0.059296,-0.064746,-0.067726,
                 -0.068888,-0.068812,-0.067580,-0.065179,-0.061694,-0.057260,
                 -0.052102,-0.046432,-0.040330,-0.033872,-0.027250,-0.020655,
                 -0.014170,-0.007630, 0.000000$



**********************************************
*         Horizontal Tail planform variables *
**********************************************

 $HTPLNF TYPE=1.0,
         CHRDR=0.55,
         CHRDTP=0.55,
         SSPN=1.42,
         SSPNE=1.32,
         SAVSI=0.0,
         CHSTAT=0.0,
         TWISTA=0.0,
         DHDADI=0.0$


********************************************
*         Vertical Tail planform variables *
********************************************

 $VTPLNF TYPE=1.0,
         CHRDR=0.99,
         CHRDTP=0.48,
         SSPN=1.18,
         SSPNE=1.00,
         SAVSI=35.45,
         CHSTAT=0.0$


*************************************
*    Elevator Deflection parameters *
*************************************

 $SYMFLP FTYPE=1.0,
         NTYPE=1.0,
         NDELTA=9.0,
* Deflection: Up 16 deg, down 9 deg
         DELTA(1)=-20.0,-15.0,-10.0,-5.0,0.0,5.0,10.0,15.0,20.0,
         SPANFI=0.00,
         SPANFO=1.21,
         CHRDFI=0.12,
         CHRDFO=0.12,
* PHETE and PHETEP are computed from the airfoil.
         PHETE=0.0013885,
         PHETEP=0.0014892,
         CB=0.1,
         TC=0.15$


*************************************************
*       Vertical Tail Sectional Characteristics *
*************************************************

* FIXME: Airfoil.
 $VTSCHR TYPEIN=1.0,
         NPTS=39.0, 
         XCORD  = 0.00000, 0.00500, 0.01000, 0.01500, 0.02000, 0.02500,
                  0.03000, 0.03500, 0.04000, 0.04500, 0.05000, 0.05500,
                  0.06000, 0.06500, 0.07000, 0.07500, 0.08000, 0.08500,
                  0.09000, 0.09500, 0.10000, 0.15000, 0.20000, 0.25000,
                  0.30000, 0.35000, 0.40000, 0.45000, 0.50000, 0.55000,
                  0.60000, 0.65000, 0.70000, 0.75000, 0.80000, 0.85000,
                  0.90000, 0.95000, 1.00000,
         YUPPER = 0.000000, 0.010113, 0.017073, 0.021679, 0.024732, 0.027032,
                  0.029239, 0.031453, 0.033631, 0.035732, 0.037714, 0.039546,
                  0.041231, 0.042782, 0.044213, 0.045537, 0.046767, 0.047916,
                  0.048998, 0.050026, 0.051012, 0.059296, 0.064746, 0.067726,
                  0.068888, 0.068812, 0.067580, 0.065179, 0.061694, 0.057260,
                  0.052102, 0.046432, 0.040330, 0.033872, 0.027250, 0.020655,
                  0.014170, 0.007630, 0.000000,
         YLOWER = 0.000000,-0.010113,-0.017073,-0.021679,-0.024732,-0.027032,
                 -0.029239,-0.031453,-0.033631,-0.035732,-0.037714,-0.039546,
                 -0.041231,-0.042782,-0.044213,-0.045537,-0.046767,-0.047916,
                 -0.048998,-0.050026,-0.051012,-0.059296,-0.064746,-0.067726,
                 -0.068888,-0.068812,-0.067580,-0.065179,-0.061694,-0.057260,
                 -0.052102,-0.046432,-0.040330,-0.033872,-0.027250,-0.020655,
                 -0.014170,-0.007630, 0.000000$

CASEID TOTAL: MFI-9B Aircraft

